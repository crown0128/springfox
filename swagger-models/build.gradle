dependencies{
 compile libs.swaggerCore 
 compile libs.core
 compile libs.spring 
 compile libs.clientProvided
 testCompile libs.test 
}

publishing {
  repositories {
    configure(releaseRepos)
  }
  publications {
    mavenSwaggerMvc(MavenPublication) {
      from components.java

      artifact packageSources {
        classifier "sources"
      }

      pom.withXml {
        asNode().dependencies.'*'.findAll() {
          project.configurations.provided.allDependencies.find { dep ->
            dep.name == it.artifactId.text()
          }
        }.each() {
          it.scope*.value = 'provided'
        }
      }
    }
  }
}